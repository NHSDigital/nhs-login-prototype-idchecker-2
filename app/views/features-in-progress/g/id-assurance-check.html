{% extends 'layout.html' %}


{% set service = "idchecker" %}
{% set signedin = 'true' %}
{% set params = "?demographics=" + demographics + "&role=" + role + "&result=" + result + "&failreason=" + failreason + "&devMode=" + devMode + "&automation=" + automation  %}
{% set dataResult = 'data-result=' + result %}

{% block extrastyles %}
<script src='/panzoom.min.js'></script>
{% endblock %}


<!-- 
    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
    ---------------------   ASSURANCE AUDIT VIEW HEADER OVERRIDE ------------------
    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
-->

{% block header %}
<header class="nhsuk-header--organisation nhsuk-header--white" role="banner">
    <div class="nhsuk-width-container nhsuk-header__container">
        <div class="nhsuk-header__logo nhsuk-header__logo--only">
            <a class="nhsuk-header__link nhsuk-header__link--service " href="/" aria-label="NHS login ID verification assurance audit">
                
                    <svg class="nhsuk-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 16" height="40" width="100">
                        <path class="nhsuk-logo__background" fill="#005eb8" d="M0 0h40v16H0z"></path>
                        <path class="nhsuk-logo__text" fill="#fff" d="M3.9 1.5h4.4l2.6 9h.1l1.8-9h3.3l-2.8 13H9l-2.7-9h-.1l-1.8 9H1.1M17.3 1.5h3.6l-1 4.9h4L25 1.5h3.5l-2.7 13h-3.5l1.1-5.6h-4.1l-1.2 5.6h-3.4M37.7 4.4c-.7-.3-1.6-.6-2.9-.6-1.4 0-2.5.2-2.5 1.3 0 1.8 5.1 1.2 5.1 5.1 0 3.6-3.3 4.5-6.4 4.5-1.3 0-2.9-.3-4-.7l.8-2.7c.7.4 2.1.7 3.2.7s2.8-.2 2.8-1.5c0-2.1-5.1-1.3-5.1-5 0-3.4 2.9-4.4 5.8-4.4 1.6 0 3.1.2 4 .6"></path>
                    </svg>
                    
                    <span class="nhsuk-header__service-name">
                        Assurance Audit
                    </span>
              
            </a>
        </div>      

                   
        </div>  
                  
</header>



{% endblock %}

<!-- Footer goes inside the footer block -->
<!-- More info and code for the footer can be found at https://beta.nhs.uk/service-manual/styles-components-patterns/footer -->
{% block footer %}
<footer role="contentinfo">
    <div class="nhsuk-footer" id="nhsuk-footer">
        <div class="nhsuk-width-container">
            <h2 class="nhsuk-u-visually-hidden">Support links</h2>
            <ul class="nhsuk-footer__list">
                <li class="nhsuk-footer__list-item">
                    <a class="nhsuk-footer__list-item-link id-check_external-link" title="open sharepoint site in new tab" href="https://hscic365.sharepoint.com/sites/NHSloginIDVerify/SitePages/NHS-login-ID-Verification-Toolkit.aspx" target="_blank">ID checking guidance</a>
                </li>
            </ul>
        </div>
    </div>
</footer>
{% endblock %}


{% block content %}



<!-- 
    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
    ------------------------          CSS STYLE OVERRIDES         --------------
    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
-->

<style>

.sticky {
    position: sticky;
    z-index: 1001;
    top: 0%; /* Ensure it's at the top of the viewport */
}

.sticky-child {
    position: sticky;
    top: 0px; /* Position it just below the sticky element */
    overflow-y: auto; /* Allow vertical scrolling */
    padding: 16px; /* Optional: add padding if needed */
    border-right: 1px solid #aeb7bd;
}

.id-expanded {
    position:relative;
    margin-bottom: 64px;
    border-right: none;
    border-bottom: 1px solid #aeb7bd;
}






/* Responsive Layout: Stack Columns Vertically */
@media (max-width: 768px) {
    .nhsuk-grid-row {
        flex-direction: column;
        height: calc(100vh - 16px); /* Adjust height to account for padding */
        padding-top: 16px; /* Add padding at the top */
        overflow: hidden;
    }

    .nhsuk-grid-column-one-half {
        height: 50vh; /* Each part takes half of the viewport height */
        overflow-y: auto; /* Enable independent scrolling */
    }

    .sticky-child {
    top: 0%; /* Position it just below the sticky element */
    margin-bottom: 16px; /* Add space between the two stacked columns */

    }    

    .right-column {
        border-top: 4px solid #aeb7bd;
    }

}
</style>


<!-- 
    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
    ------------------------          JOURNEY TAGS         --------------
    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
-->

<div class="sticky">
    <!-- is this automated? check for an absence of video file --> 
    {% if data.manual === 'true' %}
    <div class="id-check_uplift">Manual journey</div> 
    {% else %}
    <div class="id-check_automated" >Automated journey</div>
    {% endif %}
</div> 


<!--

$$$$$$$\  $$\   $$\  $$$$$$\ $$$$$$$$\  $$$$$$\         $$$$$$\  $$\   $$\ $$$$$$$$\  $$$$$$\  $$\   $$\
$$  __$$\ $$ |  $$ |$$  __$$\\__$$  __|$$  __$$\       $$  __$$\ $$ |  $$ |$$  _____|$$  __$$\ $$ | $$  |
$$ |  $$ |$$ |  $$ |$$ /  $$ |  $$ |   $$ /  $$ |      $$ /  \__|$$ |  $$ |$$ |      $$ /  \__|$$ |$$  /
$$$$$$$  |$$$$$$$$ |$$ |  $$ |  $$ |   $$ |  $$ |      $$ |      $$$$$$$$ |$$$$$\    $$ |      $$$$$  /
$$  ____/ $$  __$$ |$$ |  $$ |  $$ |   $$ |  $$ |      $$ |      $$  __$$ |$$  __|   $$ |      $$  $$<
$$ |      $$ |  $$ |$$ |  $$ |  $$ |   $$ |  $$ |      $$ |  $$\ $$ |  $$ |$$ |      $$ |  $$\ $$ |\$$\
$$ |      $$ |  $$ | $$$$$$  |  $$ |    $$$$$$  |      \$$$$$$  |$$ |  $$ |$$$$$$$$\ \$$$$$$  |$$ | \$$\
\__|      \__|  \__| \______/   \__|    \______/        \______/ \__|  \__|\________| \______/ \__|  \__|

-->


<!--\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\    LEFT COLUMN   /////////////////////////////////////////////////////////
            
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
-->

<div class="nhsuk-care-card nhsuk-care-card--non-urgent nhsuk-u-margin-bottom-0 nhsuk-u-margin-top-4 ">

    

        <div class="nhsuk-grid-row">

            <!--\\\\\\\\\\\\\\\\\\\\\\\\    LEFT COLUMN   //////////////////////////////////////////
            
            \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
            \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
            -->
               
                <div class="nhsuk-grid-column-one-half nhsuk-care-card__content-override sticky-child nhsuk-u-padding-top-4">
                    
                    
                    <div class="nhsuk-care-card__content">
                        <h3>Photo ID</h3>
                        <p class="nhsuk-body-s idcheck-help">To zoom in either double click on the picture, or position your cursor on the image, then hold 'Alt' + scroll with your mouse wheel. <a class="idcheck-image-expand-reset" href="#" id="reset">Reset</a></p>
                        <div class="reading-width panzoom-parent idcheck-image-container">
        
                            <div class="idcheck-image-expand"><a href="#" class="idcheck-image-expand-button">Expand image</a></div>
        
                            <div class="idcheck-image zoomable1">
                                <img src="/images/media/photos/DL-front.jpg" class="idcheck-image-img" style="width: 100%;"
                                     alt="Picture of identity document"/>
                            </div>
                        </div>

                        {% if data.IDback === 'true' %}
                        <div class="reading-width panzoom-parent idcheck-image-container">
        
                            <div class="idcheck-image-expand"><a href="#" class="idcheck-image-expand-button">Expand image</a></div>
        
                            <div class="idcheck-image zoomable1">
                                <img src="/images/media/photos/DL-back.jpg" class="idcheck-image-img" style="width: 100%;"
                                     alt="Picture of identity document"/>
                            </div>
                        </div>
                        {% endif %}

                    </div>
                    
                </div>
            
            <!--\\\\\\\\\\\\\\\\\\\\\\\\    RIGHT COLUMN   //////////////////////////////////////////
            
            \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
            \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
            -->

            <!-- Right Column Content -->
            <div class="nhsuk-grid-column-one-half right-column">

                        <!--\\\\\\\\\\\\\\\\\\\\\\\\    USER SUBMITTED DATA   ////////////////////////////-->

                        <div class="nhsuk-form-group nhsuk-u-margin-bottom-7 nhsuk-u-padding-top-4">
                            <h3>Postcode</h3>
                            <p style="background-color: #fff9c4; padding: 16px 24px 16px 24px; font-size: 20px; font-weight: bold; width: fit-content;">LS16 8PE</p>
                        </div>
                        
                        <!--\\\\\\\\\\\\\\\\\\\\\\\\           PDS RECORD        ////////////////////////////////////////////////////////
                        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                        -->

                        <div class="nhsuk-u-margin-top-9 nhsuk-care-card__content">
                            <h3>PDS record</h3>

                            <div class="idcheck-match">

                                <table id="pds-result">
                                    <tr>
                                        <td>Date of birth:</td>
                                        <td><b>1st November, 1991</b></td>
                                    </tr>
                                    <tr>
                                        <td>Last name:</td>
                                        <td><b>Bloggs</b></td>
                                    </tr>
                                    <tr>
                                        <td>First name:</td>
                                        <td><b>Joe</b></td>
                                    </tr>
                                    <tr>
                                        <td>Middle name:</td>
                                        <td><b>William</b></td>
                                    </tr>
                                    <tr>
                                        <td>NHS number:</td>
                                        <td><b>9686883606</b></td>
                                    </tr>
                                </table>
            
                            </div>
                            
                        </div>

                        <!--\\\\\\\\\\\\\\\\\\\\\\\\             VIDEO           ////////////////////////////////////////////////////
                        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                        -->

                        <div class="nhsuk-u-margin-top-9 nhsuk-u-margin-bottom-9 nhsuk-care-card__content">

                            <h3>
                                {% if data.manual === 'true' %}
                                Video selfie
                                {% else %}
                                Image from face scan
                                {% endif %}
                            </h3>

                            <div class="idcheck-media">
                                
                                {% if data.manual === 'true' %}
                                <video id="uploaded-video" controls name="media" style="width:100%;height:auto;">
                                    <source src="/images/media/videos/challenge.mp4" type="video/mp4">
                                </video>
                                
                                {% else %}
                                <img src="/images/media/scans/iproov-scan.png" class="idcheck-image-img" style="width: 100%; height: 100%;"
                                alt="Image of the user from iproov"/>
                                {% endif %}
                                    
                            </div>

                        </div>
                
            </div>


        </div>

</div>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const rotateButton = document.querySelector('.idcheck-image-expand-button');
        const stickyChild = document.querySelector('.sticky-child');
    
        if (rotateButton && stickyChild) {
            rotateButton.addEventListener('click', function () {
                stickyChild.classList.toggle('id-expanded');
            });
        }
    });
</script>
    
{% endblock %}
